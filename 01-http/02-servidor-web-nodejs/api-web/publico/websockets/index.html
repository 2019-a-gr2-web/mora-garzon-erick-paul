<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Websockets</title>
</head>
<body>
<!--<script src="socket.io.js"></script>-->
<script src="/websockets/socket.io.js"></script>
<script>
    const url = 'http://localhost:3002/websockets';
    const socket = io(url);
    console.log("Ya misito nos conectamos");
    socket.on('connect', //nombre del evento
        ()=>{
            console.log('Estamos conectados!!!!');
            /*socket.disconnect();
            setTimeout(
                ()=>{
                    socket.connect();
                },3001
            )*/
        }
    );

    socket.on('disconnect', //nombre del evento
        ()=>{
            console.log('Nos desconectamos :(');
        }
    );

    socket.on('saludaron', //nombre del evento
        (data)=>{
            console.log('Nos saludaron :O', data);
        }
    );

    function peticionHolaMundo() {
        const nombreMetodo = 'holaMundo';
        const datos = {
            nombre:'Erick'
        };
        socket.emit(
            nombreMetodo,
            datos,
            (respuesta)=>{ //callback
                console.log(respuesta);
            }
        );

    }
</script>
</body>
</html>
